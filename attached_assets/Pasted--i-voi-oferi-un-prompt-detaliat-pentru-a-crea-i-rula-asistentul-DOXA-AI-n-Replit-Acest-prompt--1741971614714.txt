ÃÈ›i voi oferi un prompt detaliat pentru a crea È™i rula asistentul DOXA AI Ã®n Replit. Acest prompt Ã®È›i va genera un proiect complet cu Flask pentru backend È™i OpenAI API pentru AI.

ğŸ”¹ Pasul 1: CreeazÄƒ un proiect nou Ã®n Replit
AcceseazÄƒ Replit È™i creeazÄƒ un proiect nou de tip Python (Flask).
Ãn fiÈ™ierul main.py, insereazÄƒ codul de mai jos.
ğŸ”¹ Pasul 2: AdaugÄƒ acest cod Ã®n main.py
Acest cod implementeazÄƒ chatbot-ul, rezervÄƒrile, Ã®ncÄƒrcarea documentelor È™i rapoartele pentru administrator.

python
CopiazÄƒ
EditeazÄƒ
from flask import Flask, request, jsonify
import openai
from datetime import datetime
import os

app = Flask(__name__)

# SeteazÄƒ cheia API pentru OpenAI
openai.api_key = os.getenv("OPENAI_API_KEY")

# SimulÄƒm o bazÄƒ de date pentru utilizatori, organizatori È™i rezervÄƒri
users = {}
reservations = {}
interactions = []

@app.route("/")
def home():
    return "DOXA AI este activ! ğŸš€"

@app.route("/chat", methods=["POST"])
def chat():
    data = request.json
    user_id = data.get("user_id")
    message = data.get("message")
    user_type = data.get("user_type")  # 'user' sau 'organizer'

    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "EÈ™ti DOXA AI, asistentul oficial al platformei DOXA. OferÄƒ suport utilizatorilor È™i organizatorilor."},
            {"role": "user", "content": message}
        ]
    )

    bot_response = response["choices"][0]["message"]["content"]
    interactions.append({"user_id": user_id, "message": message, "response": bot_response, "timestamp": datetime.now()})

    return jsonify({"response": bot_response})

@app.route("/reservation", methods=["POST"])
def make_reservation():
    data = request.json
    user_id = data.get("user_id")
    package_id = data.get("package_id")
    organizer_id = data.get("organizer_id")

    if not user_id or not package_id or not organizer_id:
        return jsonify({"error": "Date incomplete!"}), 400

    reservations[user_id] = {"package_id": package_id, "organizer_id": organizer_id, "status": "pending"}

    return jsonify({"message": "Rezervarea a fost Ã®nregistratÄƒ È™i trimisÄƒ organizatorului."})

@app.route("/upload_document", methods=["POST"])
def upload_document():
    user_id = request.form.get("user_id")
    file = request.files.get("file")

    if not file:
        return jsonify({"error": "Niciun document Ã®ncÄƒrcat!"}), 400

    file_path = f"uploads/{user_id}_{file.filename}"
    file.save(file_path)

    return jsonify({"message": "Documentul a fost Ã®ncÄƒrcat cu succes!", "file_path": file_path})

@app.route("/admin_report", methods=["GET"])
def generate_report():
    global interactions

    # ProcesÄƒm interacÈ›iunile pentru sugestii
    suggestions = analyze_interactions(interactions)

    report = {
        "total_users": len(set(i["user_id"] for i in interactions)),
        "total_interactions": len(interactions),
        "suggestions": suggestions,
        "timestamp": datetime.now().isoformat()
    }

    interactions = []  # ResetÄƒm interacÈ›iunile dupÄƒ raport
    return jsonify(report)

def analyze_interactions(interactions):
    suggestions = []
    if len(interactions) > 50:
        suggestions.append("Activitate intensÄƒ detectatÄƒ. LuaÈ›i Ã®n considerare optimizarea serverului.")
    return suggestions

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8080)
ğŸ”¹ Pasul 3: AdaugÄƒ un fiÈ™ier .replit pentru configurare
CreeazÄƒ un fiÈ™ier .replit È™i adaugÄƒ urmÄƒtoarele linii pentru a rula automat aplicaÈ›ia:

ini
CopiazÄƒ
EditeazÄƒ
run = "python3 main.py"
ğŸ”¹ Pasul 4: AdaugÄƒ cheia API OpenAI
Ãn Replit, acceseazÄƒ Environment Variables (securitate > variabile de mediu).
CreeazÄƒ o variabilÄƒ numitÄƒ OPENAI_API_KEY.
Introdu cheia ta OpenAI (o poÈ›i obÈ›ine de pe platforma OpenAI).
ğŸ”¹ Pasul 5: RuleazÄƒ aplicaÈ›ia
ApasÄƒ butonul Run Ã®n Replit.
Vei vedea un mesaj "DOXA AI este activ! ğŸš€" Ã®n consola de Replit.
API-ul poate fi accesat prin https://your-replit-project-name.replit.app/.